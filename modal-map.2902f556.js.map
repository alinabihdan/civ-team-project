{"version":3,"sources":["js/modal-map.js"],"names":["$","document","ready","magnificPopup","disableOn","type","mainClass","removalDelay","preloader","fixedContentPos","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","mfp","MagnificPopup","_isJQ","window","jQuery","_prevStatus","_window","_body","_document","_prevContentType","_wrapClasses","_currPopupType","_mfpOn","name","f","ev","on","_getEl","className","appendTo","html","raw","el","createElement","innerHTML","appendChild","_mfpTrigger","e","data","triggerHandler","st","callbacks","charAt","toLowerCase","slice","apply","isArray","_getCloseBtn","currTemplate","closeBtn","closeMarkup","replace","tClose","_checkInstance","instance","init","supportsTransitions","s","style","v","undefined","length","pop","prototype","constructor","appVersion","navigator","isIE7","indexOf","isIE8","isLowIE","isAndroid","test","isIOS","supportsTransition","probablyMobile","userAgent","body","popupsCache","open","i","isObj","items","toArray","index","item","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","extend","defaults","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","attr","_checkIfClose","target","container","contentContainer","tLoading","modules","n","toUpperCase","call","closeBtnInside","append","template","values","close_replaceWith","alignTop","css","overflow","overflowY","overflowX","top","scrollTop","position","fixedBgPos","height","keyCode","updateSize","addClass","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","marginRight","classesToadd","_addClassToMFP","add","prependTo","_lastFocusedEl","activeElement","setTimeout","content","_setFocus","_onFocusIn","_close","classesToRemove","detach","empty","_removeClassFromMFP","off","removeAttr","currItem","focus","prevHeight","winHeight","zoomLevel","documentElement","clientWidth","innerWidth","innerHeight","parseEl","markup","removeClass","newContent","appendContent","preloaded","prepend","find","tagName","src","hasClass","addGroup","options","eHandler","mfpEl","_openClick","eName","delegate","midClick","which","ctrlKey","metaKey","isFunction","width","preventDefault","stopPropagation","updateStatus","status","text","stopImmediatePropagation","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","each","value","split","replaceWith","is","scrollbarSize","scrollDiv","id","cssText","offsetWidth","removeChild","proto","registerModule","module","push","fn","jqEl","itemOpts","parseInt","arguments","Array","INLINE_NS","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","parent","parentNode","inlineElement","AJAX_NS","_ajaxCur","_removeAjaxCursor","_destroyAjaxRequest","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","opts","url","success","textStatus","jqXHR","temp","xhr","finished","error","loadError","_imgInterval","_getTitle","title","image","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","img","decr","_onImageHasSize","hasSize","clearInterval","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","delay","setInterval","naturalWidth","getImage","guard","onLoadComplete","complete","loaded","onLoadError","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","enabled","easing","duration","opener","element","initZoom","zoomSt","zoom","getElToAnimate","newImg","transition","cssObj","zIndex","left","t","showMainContent","openTimeout","animatedImg","_allowZoom","clearTimeout","_getItemToZoom","_getOffset","remove","isLarge","offset","paddingTop","paddingBottom","obj","offsetHeight","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","substr","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","supportsFastClick","Boolean","mfpFastClick","direction","next","prev","l","arrowLeft","arrowRight","_preloadTimeout","preloadNearbyImages","destroyMfpFastClick","goTo","newIndex","p","preloadBefore","Math","min","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","retina","isNaN","ghostClickDelay","supportsTouch","unbindTouchMove","callback","elem","lock","timeout","startX","startY","pointerMoved","point","numPointers","originalEvent","touches","clientX","clientY","abs","Zepto"],"mappings":"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","file":"modal-map.2902f556.js","sourceRoot":"../src","sourcesContent":["$(document).ready(function () {\n        $('.popup-youtube, .popup-gmaps').magnificPopup({\n          disableOn: 320,\n          type: 'iframe',\n          mainClass: 'mfp-fade',\n          removalDelay: 160,\n          preloader: false,\n\n          fixedContentPos: false\n        });\n      });  \n\n// ----------------------------------jquery.magnific-popup.js-------------------------------------\n      /*! Magnific Popup - v0.9.9 - 2013-11-15\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2013 Dmitry Semenov; */\n;(function($) {\n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_body,\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isIE7 = appVersion.indexOf(\"MSIE 7.\") !== -1; \n\t\tmfp.isIE8 = appVersion.indexOf(\"MSIE 8.\") !== -1;\n\t\tmfp.isLowIE = mfp.isIE7 || mfp.isIE8;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_body = $(document.body);\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( document.body );\n\n\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\t\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\t\t\n\t\tmfp.currItem = item;\n\n\t\t\n\n\t\t\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\t\t\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\t\t\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\t\t\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\n\t\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype = item.type;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} \n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\t\t\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\t\t\t\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( '<img src=\"'+value+'\" class=\"' + el.attr('class') + '\" />' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.id = \"mfp-sbm\";\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\t\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\t\t\t\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\t\t\t\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {   \n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\t\t\n\t\tdisableOn: 0,\t\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\t\t\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true, \n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\t\n\t\tremovalDelay: 0,\n\t\t\n\t\tfixedContentPos: 'auto', \n\t\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&times;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...'\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\t\t\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects \n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n\n//Quick benchmark\n/*\nvar start = performance.now(),\n\ti,\n\trounds = 1000;\n\nfor(i = 0; i < rounds; i++) {\n\n}\nconsole.log('Test #1:', performance.now() - start);\n\nstart = performance.now();\nfor(i = 0; i < rounds; i++) {\n\n}\nconsole.log('Test #2:', performance.now() - start);\n*/\n\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder, \n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t_body.removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur)\n\t\t\t\t_body.addClass(_ajaxCur);\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n\n\n\n\n\t\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined) \n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title', \n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t_body.addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t_body.removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\t\t\t\t\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\t\t\t\t\t\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\t\t\t\tif(item.img[0].naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t} \n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\t\t\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\t\t\t\t\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\t\t\t\t\t\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image); \n\t\t\t\t\t\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images \n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\t\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\t\t\t\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\t\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) { \n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com', \n\t\t\t\tid: 'v=', \n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t} \n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\t\t\t\t\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery',\n\t\t\t\tsupportsFastClick = Boolean($.fn.mfpFastClick);\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\t\t\t\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\t\t\t\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tvar eName = supportsFastClick ? 'mfpFastClick' : 'click';\n\t\t\t\t\tarrowLeft[eName](function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\t\t\t\n\t\t\t\t\tarrowRight[eName](function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\t\n\n\t\t\t\t\t// Polyfill for :before and :after (adds elements with classes mfp-a and mfp-b)\n\t\t\t\t\tif(mfp.isIE7) {\n\t\t\t\t\t\t_getEl('b', arrowLeft[0], false, true);\n\t\t\t\t\t\t_getEl('a', arrowLeft[0], false, true);\n\t\t\t\t\t\t_getEl('b', arrowRight[0], false, true);\n\t\t\t\t\t\t_getEl('a', arrowRight[0], false, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\t\t\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\n\t\t\t\tif(mfp.arrowLeft && supportsFastClick) {\n\t\t\t\t\tmfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick();\n\t\t\t\t}\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t}, \n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*\nTouch Support that might be implemented some day\n\naddSwipeGesture: function() {\n\tvar startX,\n\t\tmoved,\n\t\tmultipleTouches;\n\n\t\treturn;\n\n\tvar namespace = '.mfp',\n\t\taddEventNames = function(pref, down, move, up, cancel) {\n\t\t\tmfp._tStart = pref + down + namespace;\n\t\t\tmfp._tMove = pref + move + namespace;\n\t\t\tmfp._tEnd = pref + up + namespace;\n\t\t\tmfp._tCancel = pref + cancel + namespace;\n\t\t};\n\n\tif(window.navigator.msPointerEnabled) {\n\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t} else if('ontouchstart' in window) {\n\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t} else {\n\t\treturn;\n\t}\n\t_window.on(mfp._tStart, function(e) {\n\t\tvar oE = e.originalEvent;\n\t\tmultipleTouches = moved = false;\n\t\tstartX = oE.pageX || oE.changedTouches[0].pageX;\n\t}).on(mfp._tMove, function(e) {\n\t\tif(e.originalEvent.touches.length > 1) {\n\t\t\tmultipleTouches = e.originalEvent.touches.length;\n\t\t} else {\n\t\t\t//e.preventDefault();\n\t\t\tmoved = true;\n\t\t}\n\t}).on(mfp._tEnd + ' ' + mfp._tCancel, function(e) {\n\t\tif(moved && !multipleTouches) {\n\t\t\tvar oE = e.originalEvent,\n\t\t\t\tdiff = startX - (oE.pageX || oE.changedTouches[0].pageX);\n\n\t\t\tif(diff > 20) {\n\t\t\t\tmfp.next();\n\t\t\t} else if(diff < -20) {\n\t\t\t\tmfp.prev();\n\t\t\t}\n\t\t}\n\t});\n},\n*/\n\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n\n/*>>fastclick*/\n/**\n * FastClick event implementation. (removes 300ms delay on touch devices)\n * Based on https://developers.google.com/mobile/articles/fast_buttons\n *\n * You may use it outside the Magnific Popup by calling just:\n *\n * $('.your-el').mfpFastClick(function() {\n *     console.log('Clicked!');\n * });\n *\n * To unbind:\n * $('.your-el').destroyMfpFastClick();\n * \n * \n * Note that it's a very basic and simple implementation, it blocks ghost click on the same element where it was bound.\n * If you need something more advanced, use plugin by FT Labs https://github.com/ftlabs/fastclick\n * \n */\n\n(function() {\n\tvar ghostClickDelay = 1000,\n\t\tsupportsTouch = 'ontouchstart' in window,\n\t\tunbindTouchMove = function() {\n\t\t\t_window.off('touchmove'+ns+' touchend'+ns);\n\t\t},\n\t\teName = 'mfpFastClick',\n\t\tns = '.'+eName;\n\n\n\t// As Zepto.js doesn't have an easy way to add custom events (like jQuery), so we implement it in this way\n\t$.fn.mfpFastClick = function(callback) {\n\n\t\treturn $(this).each(function() {\n\n\t\t\tvar elem = $(this),\n\t\t\t\tlock;\n\n\t\t\tif( supportsTouch ) {\n\n\t\t\t\tvar timeout,\n\t\t\t\t\tstartX,\n\t\t\t\t\tstartY,\n\t\t\t\t\tpointerMoved,\n\t\t\t\t\tpoint,\n\t\t\t\t\tnumPointers;\n\n\t\t\t\telem.on('touchstart' + ns, function(e) {\n\t\t\t\t\tpointerMoved = false;\n\t\t\t\t\tnumPointers = 1;\n\n\t\t\t\t\tpoint = e.originalEvent ? e.originalEvent.touches[0] : e.touches[0];\n\t\t\t\t\tstartX = point.clientX;\n\t\t\t\t\tstartY = point.clientY;\n\n\t\t\t\t\t_window.on('touchmove'+ns, function(e) {\n\t\t\t\t\t\tpoint = e.originalEvent ? e.originalEvent.touches : e.touches;\n\t\t\t\t\t\tnumPointers = point.length;\n\t\t\t\t\t\tpoint = point[0];\n\t\t\t\t\t\tif (Math.abs(point.clientX - startX) > 10 ||\n\t\t\t\t\t\t\tMath.abs(point.clientY - startY) > 10) {\n\t\t\t\t\t\t\tpointerMoved = true;\n\t\t\t\t\t\t\tunbindTouchMove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).on('touchend'+ns, function(e) {\n\t\t\t\t\t\tunbindTouchMove();\n\t\t\t\t\t\tif(pointerMoved || numPointers > 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlock = true;\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\ttimeout = setTimeout(function() {\n\t\t\t\t\t\t\tlock = false;\n\t\t\t\t\t\t}, ghostClickDelay);\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\telem.on('click' + ns, function() {\n\t\t\t\tif(!lock) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t$.fn.destroyMfpFastClick = function() {\n\t\t$(this).off('touchstart' + ns + ' click' + ns);\n\t\tif(supportsTouch) _window.off('touchmove'+ns+' touchend'+ns);\n\t};\n})();\n\n/*>>fastclick*/\n _checkInstance(); })(window.jQuery || window.Zepto);"]}